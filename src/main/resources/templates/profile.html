<!DOCTYPE html>
<html lang="de"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Mein Profil</title>
</head>
<body>
<div layout:fragment="title">Mein Profil bearbeiten</div>
<div layout:fragment="content">
    <form th:action="@{/profile}" method="post" th:object="${user}" class="mt-4 border-top pt-4">
        <div class="row">
            <div class="col-md-6 mb-3 pe-md-3">
                <label for="firstname" class="form-label">Vorname</label>
                <input type="text" maxlength="255" th:field="*{firstname}" class="form-control"
                       th:classappend="${#fields.hasErrors('firstname') ? 'is-invalid' : ''}" id="firstname"
                       name="firstname"/>
            </div>
            <div class="col-md-6 ps-md-3">
                <label for="lastname" class="form-label">Nachname</label>
                <input type="text" maxlength="255" th:field="*{lastname}" class="form-control"
                       th:classappend="${#fields.hasErrors('lastname') ? 'is-invalid' : ''}" id="lastname"
                       name="lastname"/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3 pe-md-3">
                <label for="classYear" class="form-label">Jahrgang</label>
                <input type="number" min="1900" step="1" disabled th:field="*{classYear}" class="form-control"
                       th:classappend="${#fields.hasErrors('classYear') ? 'is-invalid' : ''}" id="classYear"
                       name="classYear"/>
            </div>
            <div class="col-md-3 mb-3 ps-md-3">
                <label for="classNumber" class="form-label">Klasse (Zahl)</label>
                <input type="number" min="1" step="1" th:field="*{classNumber}" class="form-control"
                       th:classappend="${#fields.hasErrors('classNumber') ? 'is-invalid' : ''}" id="classNumber"
                       name="classNumber"/>
            </div>
            <div class="col-md-3 mb-3">
                <label for="classIdentifier" class="form-label">Klasse (Buchstabe)</label>
                <input type="text" maxlength="1" disabled th:field="*{classIdentifier}" class="form-control"
                       th:classappend="${#fields.hasErrors('classIdentifier') ? 'is-invalid' : ''}" id="classIdentifier"
                       name="classIdentifier"/>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-6 mb-3 pe-md-3">
                <label for="email" class="form-label">E-Mail</label>
                <input type="text" maxlength="255" th:field="*{email}" class="form-control"
                       th:classappend="${#fields.hasErrors('email') ? 'is-invalid' : ''}" id="email" name="email"/>
            </div>
            <div class="col-md-6 ps-md-3">
                <label class="mb-2">Status</label>
                <div class="d-block">
                    <input
                            id="isActive"
                            name="isActive"
                            type="checkbox"
                            class="form-check-input ms-2"
                            disabled
                            th:checked="${user.getIsActive()}"
                    />
                    <label for="isActive" class="form-check-label">aktiv</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3 pe-md-3">
                <label for="password" class="form-label">Passwort</label>
                <div class="input-group">
                    <input type="password" maxlength="255" class="form-control" id="password" disabled value="******"/>
                    <span class="input-group-text bg-secondary text-white">
                        <i class="bi bi-lock"></i>
                        Passwort Ã¤ndern
                    </span>
                </div>
            </div>
            <div class="col-md-6 ps-md-3">
                <label class="mb-2">Rollen</label>
                <div class="d-block" th:each="roleOpt : ${T(de.digidoc.model.Role).values()}">
                    <div th:each="userRole: ${user.roles}">
                        <input
                                name="roles"
                                type="checkbox"
                                class="form-check-input ms-2"
                                disabled
                                th:id="${roleOpt}"
                                th:value="${roleOpt}"
                                th:checked="${userRoles.contains(roleOpt.displayValue)}"
                        />
                        <label th:for="${roleOpt}" th:text="${roleOpt.displayValue}"
                               class="form-check-label"></label>
                    </div>
                </div>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Speichern</button>
            </div>
        </div>
    </form>
</div>
</body>
</html>