<!DOCTYPE html>
<html lang="de"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{./layout}"
>
<body>
<head>
    <title>Meine Text-Vorlagen</title>
</head>
<body>
<div layout:fragment="title" class="mb-3">Meine Text-Vorlagen</div>

<div layout:fragment="content">
    <div class="row text-end mb-3">
        <div class="col-12">
            <button type="button" class="btn btn-sm btn-light border mb-2 me-2 mb-md-0 datatables-filter-reset">
                <i class="bi bi-reply"></i>
                Filter zurücksetzen
            </button>
            <a th:href="@{/template}" class="btn btn-sm btn-primary">
                <i class="bi bi-text-paragraph"></i>
                Neue Text-Vorlage
            </a>
            <a onclick="window.history.back()" class="btn btn-outline-secondary ms-2">
                <i class="bi bi-arrow-left-short"></i>
                Eine Seite zurück
            </a>
        </div>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-hover datatables border mt-2 mb-1" id="templateList">
            <thead>
            <tr>
                <th>Titel</th>
                <th>Vorlage</th>
                <th data-sortable="false"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${templates.empty}">
                <td colspan="3">Bisher sind noch keine Vorlagen hinterlegt.</td>
            </tr>
            <tr th:each="template : ${templates}">
                <td>[[${template.title}]]</td>
                <td>[[${#strings.abbreviate(template.text, 500)}]]</td>
                <td class="text-end">
                    <a th:href="@{'/template/' + ${template.id}}"
                       class="btn btn-outline-primary text-nowrap">
                        <span><i class="bi bi-pencil-fill me-1"></i>Bearbeiten</span>
                    </a>
                </td>
            </tr>

            </tbody>
            <tfoot>
            <tr th:if="${!templates.empty}">
                <th>Titel</th>
                <th>Vorlage</th>
                <th></th>
            </tr>
            </tfoot>
        </table>
    </div>
</div>
</body>